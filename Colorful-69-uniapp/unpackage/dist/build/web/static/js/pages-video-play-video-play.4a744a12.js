(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-play-video-play"],{"0b6f":function(t,e,i){"use strict";i.r(e);var n=i("13fd"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"13fd":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("5c47"),i("c223"),i("795c"),i("c9b5"),i("bf0f"),i("ab80");var n={data:function(){return{videoUrl:"",videoId:"",currentTime:0,duration:0,isPlaying:!1,showControls:!0,controlsTimer:null,isDragging:!1,touchStartX:0,progressBarWidth:0}},computed:{progressPercent:function(){return 0===this.duration?0:this.currentTime/this.duration*100}},onLoad:function(t){t.url&&(this.videoUrl=decodeURIComponent(t.url)),t.id&&(this.videoId=t.id),this.startControlsTimer()},onReady:function(){var t=this;this.videoContext=uni.createVideoContext("video-player",this),this.$nextTick((function(){t.videoUrl&&t.videoContext.play()}))},onUnload:function(){this.controlsTimer&&clearTimeout(this.controlsTimer)},methods:{goBack:function(){uni.navigateBack()},togglePlay:function(){this.isPlaying?this.videoContext.pause():this.videoContext.play(),this.startControlsTimer()},onTimeUpdate:function(t){this.isDragging||(this.currentTime=t.detail.currentTime)},onLoadedMetadata:function(t){this.duration=t.detail.duration},onPlay:function(){this.isPlaying=!0},onPause:function(){this.isPlaying=!1},onEnded:function(){this.isPlaying=!1,this.currentTime=0},onError:function(t){console.error("视频播放错误:",t),uni.showToast({title:"视频播放失败",icon:"none"})},seekTo:function(t){var e=this;this.isDragging||uni.createSelectorQuery().in(this).select(".progress-bar").boundingClientRect((function(i){var n=t.detail.x-i.left,o=n/i.width,a=e.duration*Math.max(0,Math.min(1,o));e.videoContext.seek(a),e.currentTime=a,e.startControlsTimer()})).exec()},onThumbTouchStart:function(t){var e=this;this.isDragging=!0,this.touchStartX=t.touches[0].clientX,uni.createSelectorQuery().in(this).select(".progress-bar").boundingClientRect((function(t){e.progressBarWidth=t.width})).exec(),this.controlsTimer&&clearTimeout(this.controlsTimer)},onThumbTouchMove:function(t){if(this.isDragging){var e=t.touches[0].clientX-this.touchStartX,i=this.progressPercent,n=e/this.progressBarWidth*100,o=Math.max(0,Math.min(100,i+n));this.currentTime=o/100*this.duration}},onThumbTouchEnd:function(){this.isDragging&&(this.isDragging=!1,this.videoContext.seek(this.currentTime),this.startControlsTimer())},formatTime:function(t){if(!t||isNaN(t))return"00:00";var e=Math.floor(t/60),i=Math.floor(t%60);return"".concat(e.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"))},startControlsTimer:function(){var t=this;this.showControls=!0,this.controlsTimer&&clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout((function(){t.isPlaying&&!t.isDragging&&(t.showControls=!1)}),3e3)},toggleControls:function(){this.showControls?(this.showControls=!1,this.controlsTimer&&clearTimeout(this.controlsTimer)):this.startControlsTimer()}}};e.default=n},5775:function(t,e,i){"use strict";i.r(e);var n=i("b055"),o=i("0b6f");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("f7f4");var r=i("828b"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"540a516e",null,!1,n["a"],void 0);e["default"]=s.exports},b055:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"video-play-page"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"back-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"back-icon",attrs:{src:"/static/home/ic_common_back.png",mode:"aspectFit"}})],1),i("v-uni-text",{staticClass:"header-title"},[t._v("视频播放")]),i("v-uni-view",{staticClass:"placeholder"})],1),i("v-uni-view",{staticClass:"video-container"},[i("v-uni-video",{staticClass:"video-player",attrs:{id:"video-player",src:t.videoUrl,controls:!1,"show-center-play-btn":!1,"show-play-btn":!0,"show-fullscreen-btn":!0,"show-progress":!1,"show-loading":!0},on:{timeupdate:function(e){arguments[0]=e=t.$handleEvent(e),t.onTimeUpdate.apply(void 0,arguments)},loadedmetadata:function(e){arguments[0]=e=t.$handleEvent(e),t.onLoadedMetadata.apply(void 0,arguments)},play:function(e){arguments[0]=e=t.$handleEvent(e),t.onPlay.apply(void 0,arguments)},pause:function(e){arguments[0]=e=t.$handleEvent(e),t.onPause.apply(void 0,arguments)},ended:function(e){arguments[0]=e=t.$handleEvent(e),t.onEnded.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.onError.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleControls.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"controls",class:{show:t.showControls}},[i("v-uni-view",{staticClass:"play-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.togglePlay.apply(void 0,arguments)}}},[t.isPlaying?i("v-uni-text",{staticClass:"play-icon"},[t._v("⏸")]):i("v-uni-image",{staticClass:"play-icon",attrs:{src:"/static/home/ic_play.png",mode:"aspectFit"}})],1),i("v-uni-text",{staticClass:"time-text"},[t._v(t._s(t.formatTime(t.currentTime)))]),i("v-uni-view",{staticClass:"progress-container",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.seekTo.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"progress-bar"},[i("v-uni-view",{staticClass:"progress-played",style:{width:t.progressPercent+"%"}}),i("v-uni-view",{staticClass:"progress-thumb",style:{left:t.progressPercent+"%"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.onThumbTouchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.onThumbTouchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.onThumbTouchEnd.apply(void 0,arguments)}}})],1)],1),i("v-uni-text",{staticClass:"time-text"},[t._v(t._s(t.formatTime(t.duration)))])],1)],1)],1)},o=[]},d29b:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,".video-play-page[data-v-540a516e]{height:100vh;background-color:#000;display:flex;flex-direction:column}\n\n/* 头部导航样式 */.header[data-v-540a516e]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?30?%;background-color:rgba(0,0,0,.8);position:absolute;top:0;left:0;right:0;z-index:1000}.back-btn[data-v-540a516e]{width:%?60?%;height:%?60?%;display:flex;align-items:center;justify-content:center}.back-icon[data-v-540a516e]{width:%?40?%;height:%?40?%;-webkit-filter:brightness(0) invert(1);filter:brightness(0) invert(1)}.header-title[data-v-540a516e]{font-size:%?36?%;font-weight:700;color:#fff}.placeholder[data-v-540a516e]{width:%?60?%}\n\n/* 视频容器 */.video-container[data-v-540a516e]{flex:1;position:relative;display:flex;align-items:center;justify-content:center}.video-player[data-v-540a516e]{width:100%;height:100%}\n\n/* 控制栏样式 */.controls[data-v-540a516e]{position:absolute;bottom:0;left:0;right:0;height:%?120?%;background:linear-gradient(transparent,rgba(0,0,0,.8));display:flex;align-items:center;padding:0 %?30?%;transition:opacity .3s ease;opacity:0;pointer-events:none}.controls.show[data-v-540a516e]{opacity:1;pointer-events:auto}.play-btn[data-v-540a516e]{width:%?60?%;height:%?60?%;display:flex;align-items:center;justify-content:center;margin-right:%?20?%}.play-icon[data-v-540a516e]{width:%?40?%;height:%?40?%;-webkit-filter:brightness(0) invert(1);filter:brightness(0) invert(1)}uni-text.play-icon[data-v-540a516e]{font-size:%?32?%;color:#fff;width:auto;height:auto;-webkit-filter:none;filter:none}.time-text[data-v-540a516e]{font-size:%?24?%;color:#fff;margin:0 %?20?%;min-width:%?80?%;text-align:center}.progress-container[data-v-540a516e]{flex:1;height:%?60?%;display:flex;align-items:center;padding:0 %?10?%}.progress-bar[data-v-540a516e]{position:relative;height:%?6?%;width:100%;background-color:hsla(0,0%,100%,.3);border-radius:%?3?%}.progress-played[data-v-540a516e]{height:100%;background-color:#ff6b6b;border-radius:%?3?%;transition:width .1s ease}.progress-thumb[data-v-540a516e]{position:absolute;top:50%;width:%?20?%;height:%?20?%;background-color:#ff6b6b;border-radius:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);box-shadow:0 %?2?% %?6?% rgba(0,0,0,.3)}",""]),t.exports=e},f6f4:function(t,e,i){var n=i("d29b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("967d").default;o("15ca5140",n,!0,{sourceMap:!1,shadowMode:!1})},f7f4:function(t,e,i){"use strict";var n=i("f6f4"),o=i.n(n);o.a}}]);