(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-collections-collections"],{"20b7":function(t,i,e){"use strict";e.r(i);var a=e("7b98"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},"457b":function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,".loufeng-item[data-v-7aa4e2d8]{display:flex;background-color:#faf7f2;margin-top:%?15?%;padding:%?40?% %?20?%;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1);position:relative}.left-info[data-v-7aa4e2d8]{flex:1;display:flex;flex-direction:column;gap:%?15?%}.location-tag[data-v-7aa4e2d8]{background-color:#f4c88f;padding:%?8?% %?20?%;border-radius:%?30?%;font-weight:700;font-size:%?30?%;color:#fff;align-self:flex-start}.info-list[data-v-7aa4e2d8]{display:flex;flex-direction:column;gap:%?8?%}.info-item[data-v-7aa4e2d8]{display:flex;align-items:center;gap:%?10?%}.info-label[data-v-7aa4e2d8]{font-size:%?26?%;color:#b4b4b4;flex-shrink:0;min-width:%?120?%}.info-value[data-v-7aa4e2d8]{font-size:%?26?%;color:#b4b4b4;flex:1;white-space:nowrap}.right-image[data-v-7aa4e2d8]{margin-top:%?50?%;width:%?150?%;height:%?150?%;flex-shrink:0}.item-image[data-v-7aa4e2d8]{width:100%;height:100%;border-radius:50%}.hot-icon[data-v-7aa4e2d8]{position:absolute;top:0;right:0;width:%?80?%;height:%?80?%}",""]),t.exports=i},"6dea":function(t,i,e){"use strict";e.r(i);var a=e("fd8e"),n=e("817e");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("f1f4");var c=e("828b"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"7aa4e2d8",null,!1,a["a"],void 0);i["default"]=s.exports},7733:function(t,i,e){var a=e("cc3b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("967d").default;n("9423975a",a,!0,{sourceMap:!1,shadowMode:!1})},"7b98":function(t,i,e){"use strict";e("6a54");var a=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("c223"),e("795c"),e("d4b5");var n=a(e("6dea")),o={components:{teapostItem:n.default},data:function(){return{currentTab:1,collectionList:[],loading:!1,currentPage:1,hasMore:!0,limit:10}},onLoad:function(){this.loadCollectionList()},onShow:function(){var t=getApp().getCache("isLogin");getApp().isEmpty(t)&&uni.navigateTo({url:"/pages/login/login"})},onPullDownRefresh:function(){this.currentPage=1,this.hasMore=!0,this.collectionList=[],this.loadCollectionList((function(){uni.stopPullDownRefresh()}))},onReachBottom:function(){this.loadMore()},methods:{goBack:function(){uni.navigateBack()},switchTab:function(t){this.currentTab!==t&&(this.currentTab=t,this.currentPage=1,this.hasMore=!0,this.collectionList=[],this.loadCollectionList())},loadCollectionList:function(t){var i=this;if(!this.loading){this.loading=!0;getApp().getData("api/favorite/list",{type:this.currentTab,page:this.currentPage,limit:this.limit},(function(e){if(i.loading=!1,"function"===typeof t&&t(),200===e.code){var a=e.data;1===i.currentPage?i.collectionList=a.data||[]:i.collectionList=i.collectionList.concat(a.data||[]),i.hasMore=i.currentPage<a.last_page}else uni.showToast({title:e.msg||"获取收藏列表失败",icon:"none"})}),(function(e){i.loading=!1,"function"===typeof t&&t(),uni.showToast({title:"网络错误",icon:"none"})}))}},loadMore:function(){this.hasMore&&!this.loading&&(this.currentPage++,this.loadCollectionList())},formatTime:function(t){if(!t)return"";var i=new Date(1e3*t),e=new Date,a=e-i;return a<6e4?"刚刚":a<36e5?Math.floor(a/6e4)+"分钟前":a<864e5?Math.floor(a/36e5)+"小时前":i.getFullYear()+"-"+String(i.getMonth()+1).padStart(2,"0")+"-"+String(i.getDate()).padStart(2,"0")},goToExpertDetail:function(t){uni.navigateTo({url:"/pages/expert-detail/expert-detail?id="+t.id})},goToVideoDetail:function(t){uni.navigateTo({url:"/pages/video-detail/video-detail?id="+t.id})},goToShortVideo:function(t){var i=3===this.currentTab?this.collectionList:[];uni.navigateTo({url:"/pages/short-video/short-video?index="+t+"&videoList="+encodeURIComponent(JSON.stringify(i))})},toggleFollow:function(t){uni.showToast({title:"功能开发中",icon:"none"})}}};i.default=o},"817e":function(t,i,e){"use strict";e.r(i);var a=e("afa0"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},afa0:function(t,i,e){"use strict";e("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={props:{item:{type:Object,required:!0}},methods:{goToLoufengDetail:function(){uni.navigateTo({url:"/pages/loufeng-detail/loufeng-detail?id=".concat(this.item.id)})}}};i.default=a},c738:function(t,i,e){"use strict";e.r(i);var a=e("cfcf"),n=e("20b7");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("e64b");var c=e("828b"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"2c8edcaf",null,!1,a["a"],void 0);i["default"]=s.exports},c73d:function(t,i,e){var a=e("457b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("967d").default;n("0f87af7a",a,!0,{sourceMap:!1,shadowMode:!1})},cc3b:function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.collections-page[data-v-2c8edcaf]{background-color:#f5f5f5;min-height:100vh}\n/* 头部导航 */.header[data-v-2c8edcaf]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?30?%;background-color:#fff;position:-webkit-sticky;position:sticky;top:0;z-index:99;height:%?88?%;box-sizing:border-box}.back-btn[data-v-2c8edcaf]{padding:%?10?%}.back-icon[data-v-2c8edcaf]{width:%?40?%;height:%?40?%}.header-title[data-v-2c8edcaf]{font-size:%?32?%;font-weight:700;color:#333}.placeholder[data-v-2c8edcaf]{width:%?60?%}\n/* 标签页样式 */.tab-container[data-v-2c8edcaf]{display:flex;background-color:#eee;border-bottom:%?1?% solid #eee;padding:0 %?30?%;position:-webkit-sticky;position:sticky;top:%?88?%;\n  /* 与头部高度一致 */z-index:99}.tab-item[data-v-2c8edcaf]{flex:1;padding:%?30?% 0;text-align:center;position:relative}.tab-item.active .tab-text[data-v-2c8edcaf]{color:#fd3642;font-weight:700}.tab-item.active[data-v-2c8edcaf]::after{content:"";position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?60?%;height:%?4?%;border-radius:%?2?%}.tab-text[data-v-2c8edcaf]{font-size:%?30?%;color:#666;transition:color .3s}\n/* 列表容器 */.list-container[data-v-2c8edcaf]{padding:%?20?% 0}.loading-container[data-v-2c8edcaf],\n.empty-container[data-v-2c8edcaf]{padding:%?100?% 0;text-align:center}.loading-text[data-v-2c8edcaf],\n.empty-text[data-v-2c8edcaf]{font-size:%?28?%;color:#999}\n/* 视频列表样式 */.video-list[data-v-2c8edcaf]{display:flex;flex-direction:column;gap:%?10?%}.video-item[data-v-2c8edcaf]{display:flex;align-items:center;padding:%?30?%;background-color:#fff}.video-cover[data-v-2c8edcaf]{width:%?120?%;height:%?120?%;border-radius:%?10?%;margin-right:%?30?%;border:%?2?% solid #e0e0e0}.video-info[data-v-2c8edcaf]{flex:1;display:flex;flex-direction:column}.video-title[data-v-2c8edcaf]{font-size:%?32?%;font-weight:700;color:#333;margin-bottom:%?10?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;line-height:1.4}.video-desc[data-v-2c8edcaf]{font-size:%?26?%;color:#666;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;line-height:1.3}\n/* 网格布局样式 */.grid-container[data-v-2c8edcaf]{display:flex;flex-wrap:wrap;justify-content:space-between}.grid-item[data-v-2c8edcaf]{width:49.5%;margin-bottom:%?30?%;overflow:hidden}.grid-avatar[data-v-2c8edcaf]{width:100%;height:%?370?%;border-radius:%?15?%;margin-bottom:%?15?%}.grid-info[data-v-2c8edcaf]{display:flex;justify-content:space-between;align-items:center;padding:0 %?20?% %?20?% %?20?%}.grid-name[data-v-2c8edcaf]{font-size:%?28?%;font-weight:700;color:#333;max-width:%?120?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.grid-popularity[data-v-2c8edcaf]{display:flex;align-items:center}.fire-icon[data-v-2c8edcaf]{width:%?24?%;height:%?24?%;margin-right:%?6?%}.popularity-num[data-v-2c8edcaf]{font-size:%?24?%;color:#000}\n/* 加载更多 */.load-more[data-v-2c8edcaf]{padding:%?30?%;text-align:center}.load-more-text[data-v-2c8edcaf]{font-size:%?28?%;color:#999}',""]),t.exports=i},cfcf:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var a={teapostItem:e("6dea").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"collections-page"},[e("v-uni-view",{staticClass:"header"},[e("v-uni-view",{staticClass:"back-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goBack.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"back-icon",attrs:{src:"/static/home/ic_common_back.png",mode:"aspectFit"}})],1),e("v-uni-text",{staticClass:"header-title"},[t._v("我的收藏")]),e("v-uni-view",{staticClass:"placeholder"})],1),e("v-uni-view",{staticClass:"tab-container"},[e("v-uni-view",{staticClass:"tab-item",class:{active:2===t.currentTab},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchTab(2)}}},[e("v-uni-text",{staticClass:"tab-text"},[t._v("视频")])],1),e("v-uni-view",{staticClass:"tab-item",class:{active:1===t.currentTab},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchTab(1)}}},[e("v-uni-text",{staticClass:"tab-text"},[t._v("达人")])],1),e("v-uni-view",{staticClass:"tab-item",class:{active:3===t.currentTab},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchTab(3)}}},[e("v-uni-text",{staticClass:"tab-text"},[t._v("短视频")])],1),e("v-uni-view",{staticClass:"tab-item",class:{active:4===t.currentTab},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.switchTab(4)}}},[e("v-uni-text",{staticClass:"tab-text"},[t._v("茶贴")])],1)],1),e("v-uni-view",{staticClass:"list-container"},[t.loading&&1===t.currentPage?e("v-uni-view",{staticClass:"loading-container"},[e("v-uni-text",{staticClass:"loading-text"},[t._v("加载中...")])],1):0===t.collectionList.length?e("v-uni-view",{staticClass:"empty-container"},[e("v-uni-text",{staticClass:"empty-text"},[t._v("暂无收藏内容")])],1):e("v-uni-view",[2===t.currentTab?e("v-uni-view",{staticClass:"video-list"},t._l(t.collectionList,(function(i){return e("v-uni-view",{key:i.id,staticClass:"video-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goToVideoDetail(i)}}},[e("v-uni-image",{staticClass:"video-cover",attrs:{src:i.cover[0]||"/static/icon/default-avatar.png",mode:"aspectFill"}}),e("v-uni-view",{staticClass:"video-info"},[e("v-uni-text",{staticClass:"video-title"},[t._v(t._s(i.name||"未知视频"))])],1)],1)})),1):t._e(),1===t.currentTab?e("v-uni-view",{staticClass:"grid-container"},t._l(t.collectionList,(function(i){return e("v-uni-view",{key:i.id,staticClass:"grid-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goToExpertDetail(i)}}},[e("v-uni-image",{staticClass:"grid-avatar",attrs:{src:i.cover[0]||"/static/icon/default-avatar.png",mode:"aspectFill"}}),e("v-uni-view",{staticClass:"grid-info"},[e("v-uni-text",{staticClass:"grid-name"},[t._v(t._s(i.name||"未知达人"))]),e("v-uni-view",{staticClass:"grid-popularity"},[e("v-uni-image",{staticClass:"fire-icon",attrs:{src:"/static/icon/15.png",mode:"aspectFit"}}),e("v-uni-text",{staticClass:"popularity-num"},[t._v(t._s(i.num||"0"))])],1)],1)],1)})),1):t._e(),3===t.currentTab?e("v-uni-view",{staticClass:"grid-container"},t._l(t.collectionList,(function(i,a){return e("v-uni-view",{key:i.id,staticClass:"grid-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goToShortVideo(a)}}},[e("v-uni-image",{staticClass:"grid-avatar",attrs:{src:i.cover||"/static/icon/default-avatar.png",mode:"aspectFill"}}),e("v-uni-view",{staticClass:"grid-info"},[e("v-uni-text",{staticClass:"grid-name"},[t._v(t._s(i.name||"未知视频"))]),e("v-uni-view",{staticClass:"grid-popularity"},[e("v-uni-image",{staticClass:"fire-icon",attrs:{src:"/static/home/ic_video_collect_normal.png",mode:"aspectFit"}}),e("v-uni-text",{staticClass:"popularity-num"},[t._v(t._s(i.likenumber||"0"))])],1)],1)],1)})),1):t._e()],1),4===t.currentTab?e("v-uni-view",{staticClass:"teapost-list"},t._l(t.collectionList,(function(t){return e("teapost-item",{key:t.id,attrs:{item:t}})})),1):t._e()],1),!t.hasMore&&t.collectionList.length>0?e("v-uni-view",{staticClass:"load-more"},[e("v-uni-text",{staticClass:"load-more-text"},[t._v("没有更多数据了")])],1):t._e()],1)},o=[]},e64b:function(t,i,e){"use strict";var a=e("7733"),n=e.n(a);n.a},f1f4:function(t,i,e){"use strict";var a=e("c73d"),n=e.n(a);n.a},fd8e:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"loufeng-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goToLoufengDetail.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"left-info"},[e("v-uni-view",{staticClass:"location-tag"},[t._v(t._s(t.item.title))]),e("v-uni-view",{staticClass:"info-list"},[e("v-uni-view",{staticClass:"info-item"},[e("v-uni-text",{staticClass:"info-label"},[t._v("类型：")]),e("v-uni-view",{staticClass:"info-value"},[t._v(t._s(t.item.type))])],1),e("v-uni-view",{staticClass:"info-item"},[e("v-uni-text",{staticClass:"info-label"},[t._v("所在地区：")]),e("v-uni-view",{staticClass:"info-value"},[t._v(t._s(t.item.province.name)+"\n\t\t\t\t\t"+t._s(t.item.city.name)+t._s(t.item.area.name))])],1),e("v-uni-view",{staticClass:"info-item"},[e("v-uni-text",{staticClass:"info-label"},[t._v("服务项目：")]),e("v-uni-view",{staticClass:"info-value"},[t._v(t._s(t.item.service_project))])],1),e("v-uni-view",{staticClass:"info-item"},[e("v-uni-text",{staticClass:"info-label"},[t._v("消费情况：")]),e("v-uni-view",{staticClass:"info-value"},[t._v(t._s(t.item.consumption_situation))])],1)],1)],1),e("v-uni-view",{staticClass:"right-image"},[e("v-uni-image",{staticClass:"item-image",attrs:{src:t.item.image&&t.item.image.length>0?t.item.image[0]:"/static/icon/logo.png",mode:"aspectFill"}}),1===t.item.is_hot?e("v-uni-image",{staticClass:"hot-icon",attrs:{src:"/static/home/ic_girl_tips.png",mode:"aspectFit"}}):t._e()],1)],1)},n=[]}}]);