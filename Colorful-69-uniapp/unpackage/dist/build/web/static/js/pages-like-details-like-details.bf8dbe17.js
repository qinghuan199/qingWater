(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-like-details-like-details"],{"0348":function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e966"),a("c223"),a("795c");var i={data:function(){return{infoId:"",contentType:1,contentName:"",likeDetailsList:[],loading:!1,currentPage:1,hasMore:!0,limit:10}},onLoad:function(t){this.infoId=t.id||"",this.contentType=parseInt(t.type)||1,this.contentName=decodeURIComponent(t.name||""),this.infoId?this.loadLikeDetails():(uni.showToast({title:"参数错误",icon:"none"}),setTimeout((function(){uni.navigateBack()}),1500))},methods:{goBack:function(){uni.navigateBack()},getTypeText:function(){switch(this.contentType){case 1:return"达人";case 2:return"视频";case 3:return"用户视频";default:return"内容"}},loadLikeDetails:function(){var t=this;if(!this.loading){var e=getApp().getCache("userInfo"),a=e?e.token:null;a?(this.loading=!0,uni.request({url:getApp().globalData.baseUrl+"api/likenumber/info",method:"POST",header:{token:a},data:{type:this.contentType,page:this.currentPage,limit:this.limit,info_id:this.infoId},success:function(e){if(t.loading=!1,200===e.data.code){var a=e.data.data;1===t.currentPage?t.likeDetailsList=a.data||[]:t.likeDetailsList=t.likeDetailsList.concat(a.data||[]),t.hasMore=t.currentPage<a.last_page}else uni.showToast({title:e.data.msg||"获取点赞详情失败",icon:"none"})},fail:function(){t.loading=!1,uni.showToast({title:"网络错误",icon:"none"})}})):uni.showToast({title:"请先登录",icon:"none"})}},loadMore:function(){this.hasMore&&!this.loading&&(this.currentPage++,this.loadLikeDetails())},formatTime:function(t){if(!t)return"";var e=new Date(1e3*t),a=new Date,i=a-e;return i<6e4?"刚刚":i<36e5?Math.floor(i/6e4)+"分钟前":i<864e5?Math.floor(i/36e5)+"小时前":e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")}}};e.default=i},"346f":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,".like-details-page[data-v-4fc843f4]{background-color:#f5f5f5;min-height:100vh}\n\n/* 头部导航 */.header[data-v-4fc843f4]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?30?%;background-color:#fff;border-bottom:%?1?% solid #e0e0e0}.back-btn[data-v-4fc843f4]{padding:%?10?%}.back-icon[data-v-4fc843f4]{width:%?40?%;height:%?40?%}.header-title[data-v-4fc843f4]{font-size:%?32?%;font-weight:700;color:#333}.placeholder[data-v-4fc843f4]{width:%?60?%}\n\n/* 内容头部 */.content-header[data-v-4fc843f4]{padding:%?30?%;background-color:#fff;margin:%?20?%;border-radius:%?20?%;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1)}.content-title[data-v-4fc843f4]{font-size:%?32?%;font-weight:700;color:#333;margin-bottom:%?10?%;display:block;line-height:1.4}.content-type[data-v-4fc843f4]{font-size:%?26?%;color:#007aff;background-color:#e3f2fd;padding:%?8?% %?16?%;border-radius:%?12?%;display:inline-block}\n\n/* 列表容器 */.list-container[data-v-4fc843f4]{padding:0 %?20?%}.loading-container[data-v-4fc843f4],\n.empty-container[data-v-4fc843f4]{padding:%?100?% 0;text-align:center}.loading-text[data-v-4fc843f4],\n.empty-text[data-v-4fc843f4]{font-size:%?28?%;color:#999}\n\n/* 点赞列表样式 */.like-list[data-v-4fc843f4]{padding-bottom:%?20?%}.like-item[data-v-4fc843f4]{display:flex;align-items:flex-start;padding:%?30?%;margin-bottom:%?20?%;background-color:#fff;border-radius:%?20?%;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1)}.user-avatar[data-v-4fc843f4]{width:%?80?%;height:%?80?%;border-radius:%?40?%;margin-right:%?20?%;border:%?2?% solid #e0e0e0;flex-shrink:0}.user-info[data-v-4fc843f4]{flex:1;margin-right:%?20?%}.user-name[data-v-4fc843f4]{font-size:%?30?%;font-weight:700;color:#333;margin-bottom:%?8?%;display:block}.user-phone[data-v-4fc843f4]{font-size:%?24?%;color:#666;margin-bottom:%?8?%;display:block}.like-time[data-v-4fc843f4]{font-size:%?22?%;color:#999;display:block}.like-content[data-v-4fc843f4]{flex-shrink:0;max-width:%?200?%}.like-text[data-v-4fc843f4]{font-size:%?26?%;color:#ff6b35;background-color:#fff3e0;padding:%?12?% %?20?%;border-radius:%?15?%;text-align:center;display:block;line-height:1.3}\n\n/* 加载更多 */.load-more[data-v-4fc843f4]{padding:%?30?%;text-align:center;margin:%?20?%;background-color:#fff;border-radius:%?20?%;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1)}.load-more-text[data-v-4fc843f4]{font-size:%?28?%;color:#007aff}",""]),t.exports=e},"4b83":function(t,e,a){"use strict";var i=a("f6ab"),n=a.n(i);n.a},"865d":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"like-details-page"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"back-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"back-icon",attrs:{src:"/static/home/ic_common_back.png",mode:"aspectFit"}})],1),a("v-uni-text",{staticClass:"header-title"},[t._v("点赞详情")]),a("v-uni-view",{staticClass:"placeholder"})],1),a("v-uni-view",{staticClass:"content-header"},[a("v-uni-text",{staticClass:"content-title"},[t._v(t._s(t.contentName||"内容详情"))]),a("v-uni-text",{staticClass:"content-type"},[t._v(t._s(t.getTypeText()))])],1),a("v-uni-view",{staticClass:"list-container"},[t.loading?a("v-uni-view",{staticClass:"loading-container"},[a("v-uni-text",{staticClass:"loading-text"},[t._v("加载中...")])],1):0===t.likeDetailsList.length?a("v-uni-view",{staticClass:"empty-container"},[a("v-uni-text",{staticClass:"empty-text"},[t._v("暂无点赞记录")])],1):a("v-uni-view",{staticClass:"like-list"},t._l(t.likeDetailsList,(function(e){return a("v-uni-view",{key:e.id,staticClass:"like-item"},[a("v-uni-image",{staticClass:"user-avatar",attrs:{src:e.header_img||"/static/icon/default-avatar.png",mode:"aspectFill"}}),a("v-uni-view",{staticClass:"user-info"},[a("v-uni-text",{staticClass:"user-name"},[t._v(t._s(e.member_name||"匿名用户"))]),a("v-uni-text",{staticClass:"user-phone"},[t._v(t._s(e.member_phone||""))]),a("v-uni-text",{staticClass:"like-time"},[t._v(t._s(t.formatTime(e.create_time)))])],1),a("v-uni-view",{staticClass:"like-content"},[a("v-uni-text",{staticClass:"like-text"},[t._v(t._s(e.name||"点赞了这个内容"))])],1)],1)})),1)],1),t.hasMore&&!t.loading?a("v-uni-view",{staticClass:"load-more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"load-more-text"},[t._v("加载更多")])],1):t._e()],1)},n=[]},"9e39":function(t,e,a){"use strict";a.r(e);var i=a("0348"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},caba:function(t,e,a){"use strict";a.r(e);var i=a("865d"),n=a("9e39");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("4b83");var s=a("828b"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"4fc843f4",null,!1,i["a"],void 0);e["default"]=c.exports},f6ab:function(t,e,a){var i=a("346f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("f775ea26",i,!0,{sourceMap:!1,shadowMode:!1})}}]);