(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-detail-video-detail"],{"011d":function(t,e,i){"use strict";var a=i("6c8e"),o=i.n(a);o.a},"1d23":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAAAXNSR0IArs4c6QAAAo5JREFUaEPt2E2KE0EUB/B/jX0AdSHphXgCwcFVSDXkEhH8mHFkTiAK6gEEQRdeYPyYMSOYSwT6JctBvYG4yCKIHiDpkhrS0sae7n71kZaheptKv/69f1VX0QLn7BLnzIMA+t8TDQmFhDbcgTDlNtxwdrmQELtlG/5DSEhKeRPAWwBXARzEcfxkNBotXQTR7/ej5XL5Uim1B+BblmV70+n0M+fe7ISklF8BXC8U+RjH8Y4tSmMWi8UQwK3CvU+ISDew8WUC+gng4lqF4ziOd01RZ2B0iTkRXWmsAfiHUynlKwCPSooYJVWB0SVeENEzr6DBYHBhNpsdArhTUoiVVA3mkIgeAMi8gvTNXaBqMEdEpF8MLIx+NvYayrtlg/KFsQKZJlWFUUp9mEwm902SyRttnJBJUr4x1glxUPP5XJTsM6e3WCWj14z1Bm2dUFMUgGht08wxw9U0s8Y4S6gh6p+3rxBimKapXjNOMM5BDV4URdQxEe26xHgBNUSxNmDvG2tdgdUedQTg9hljP0VRdHc8Hi/q7sX93dlLYW0dVWHyoV5QTkE1p4eyZjtHOQNVYfQ+c7pghbhXonKKcgKqweT7jOr1eu99o6xBDTH5PrPlG2UFYmLy2eYVZQwyxPxBSSnfAdhxvaaMQFUYxnFmyweKDXKE8ZYUG5Qkif5u9rhkqpgeZ3RS+jufPtf9dQkhXqdp+pBzWmCDpJQ/AFxeK2KKKSZVhvpFRJe8gpIkOVFKbReK2GKqUF+I6IZXULfb3Y6i6EApdU0I8abT6Tw1/cBY8qB6+j0HsA/ge5Zl+94/BXO61cZY9hpq4yE5NQOI0602xoaE2ug6p2ZIiNOtNsaGhNroOqdmSIjTrTbG/gYqDqJExzCCTAAAAABJRU5ErkJggg=="},"5e2c":function(t,e,i){"use strict";i.r(e);var a=i("bdab"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"6c8e":function(t,e,i){var a=i("756a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("967d").default;o("1edcbd2f",a,!0,{sourceMap:!1,shadowMode:!1})},"756a":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.header[data-v-79086d44]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?30?%;background-color:#fff;border-bottom:%?1?% solid #f0f0f0}.back-btn[data-v-79086d44]{width:%?40?%;height:%?40?%;display:flex;align-items:center;justify-content:center}.back-icon[data-v-79086d44]{font-size:%?40?%;color:#333;font-weight:700}.header-title[data-v-79086d44]{font-size:%?36?%;color:#333}.video-detail-page[data-v-79086d44]{background-color:#eee;height:100vh;display:flex;flex-direction:column}.video-player[data-v-79086d44]{position:relative;width:100%;height:%?400?%;background-color:#000}.player[data-v-79086d44]{width:100%;height:100%;height:%?400?%}.video-placeholder[data-v-79086d44]{position:relative;width:100%;height:100%}.placeholder-img[data-v-79086d44]{width:100%;height:100%}.play-btn[data-v-79086d44]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:%?120?%;height:%?120?%;background-color:rgba(0,0,0,.6);border-radius:50%;display:flex;align-items:center;justify-content:center}.play-text[data-v-79086d44]{color:#fff;font-size:%?28?%}.video-info[data-v-79086d44]{background-color:#eee;padding:%?30?%}.video-title[data-v-79086d44]{margin-bottom:%?20?%}.title-text[data-v-79086d44]{font-size:%?32?%;color:#333;font-weight:500}.video-stats[data-v-79086d44]{display:flex;justify-content:space-between;align-items:center;margin-bottom:%?30?%}.stats-left[data-v-79086d44]{display:flex;flex-direction:column}.play-count[data-v-79086d44]{font-size:%?28?%;color:#666;margin-bottom:%?10?%}.create-time[data-v-79086d44]{font-size:%?24?%;color:#999}.duration[data-v-79086d44]{font-size:%?28?%;color:#007bff;font-weight:500}.action-buttons[data-v-79086d44]{display:flex;align-items:center}.action-btn[data-v-79086d44]{display:flex;align-items:center;justify-content:center;padding:%?10?%;margin-right:%?10?%;transition:all .3s}.action-btn[data-v-79086d44]:active{-webkit-transform:scale(.95);transform:scale(.95)}.action-icon[data-v-79086d44]{width:%?40?%;height:%?40?%}.action-text[data-v-79086d44]{font-size:%?32?%;color:#666;margin-left:%?5?%}.related-videos[data-v-79086d44]{flex:1;background-color:#eee;display:flex;flex-direction:column}.section-title[data-v-79086d44]{padding:%?30?%;border-bottom:%?1?% solid #f0f0f0}.section-title .title-text[data-v-79086d44]{font-size:%?36?%;color:#ff4757;font-weight:700}.related-scroll[data-v-79086d44]{flex:1;overflow:hidden}.related-list[data-v-79086d44]{padding:%?20?%;display:flex;flex-wrap:wrap;justify-content:space-between}.related-item[data-v-79086d44]{display:flex;flex-direction:column;margin-bottom:%?20?%;width:48%;border-radius:%?15?%;transition:all .3s}.related-item[data-v-79086d44]:active{-webkit-transform:scale(.98);transform:scale(.98);background-color:#e9ecef}.related-cover[data-v-79086d44]{position:relative;width:100%;height:%?300?%;border-radius:%?10?%;overflow:hidden;flex-shrink:0;margin-bottom:%?15?%}.cover-img[data-v-79086d44]{width:100%;height:100%}.hot-tag[data-v-79086d44]{position:absolute;top:%?10?%;left:%?10?%;background-color:#ff4757;border-radius:%?6?%;padding:%?4?% %?8?%}.hot-text[data-v-79086d44]{font-size:%?20?%;color:#eee}.related-info[data-v-79086d44]{flex:1;display:flex;flex-direction:column;justify-content:flex-start}.related-title[data-v-79086d44]{font-size:%?26?%;color:#333;line-height:1.4;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;margin-top:%?5?%}.related-stats[data-v-79086d44]{font-size:%?24?%;color:#666;margin-top:%?10?%}.loading-container[data-v-79086d44]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:rgba(0,0,0,.7);color:#fff;padding:%?20?% %?40?%;border-radius:%?10?%;z-index:9999}.loading-text[data-v-79086d44]{font-size:%?28?%}\n/* 评论弹窗样式 */.comment-modal[data-v-79086d44]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:1000;display:flex;align-items:flex-end}.comment-content[data-v-79086d44]{width:100%;max-height:80%;background-color:#fff;border-radius:%?20?% %?20?% 0 0;display:flex;flex-direction:column}.comment-header[data-v-79086d44]{display:flex;justify-content:space-between;align-items:center;padding:%?30?%;border-bottom:%?1?% solid #f0f0f0}.comment-title[data-v-79086d44]{font-size:%?32?%;font-weight:700;color:#333}.close-btn[data-v-79086d44]{width:%?40?%;height:%?40?%}.comment-list[data-v-79086d44]{flex:1;max-height:%?600?%;padding:0 %?30?%}.comment-item[data-v-79086d44]{padding:%?30?% 0;border-bottom:%?1?% solid #f5f5f5}.comment-user[data-v-79086d44]{display:flex;align-items:center;margin-bottom:%?20?%}.avatar-container[data-v-79086d44]{position:relative;margin-right:%?20?%}.user-avatar[data-v-79086d44]{width:%?60?%;height:%?60?%;border-radius:50%}.vip-badge[data-v-79086d44]{position:absolute;bottom:%?-5?%;right:%?-5?%;width:%?30?%;height:%?15?%;border-radius:%?4?%;border:%?1?% solid #fff}.user-info[data-v-79086d44]{flex:1}.user-name[data-v-79086d44]{font-size:%?28?%;color:#333;display:block;margin-bottom:%?10?%}.comment-time[data-v-79086d44]{font-size:%?24?%;color:#999;display:block}.comment-content-text[data-v-79086d44]{font-size:%?28?%;color:#666;line-height:1.5}.empty-comments[data-v-79086d44]{display:flex;justify-content:center;align-items:center;height:%?300?%}.empty-text[data-v-79086d44]{font-size:%?28?%;color:#999}.comment-input-area[data-v-79086d44]{display:flex;align-items:center;padding:%?20?% %?30?%;border-top:%?1?% solid #f0f0f0;background-color:#fff}.comment-input[data-v-79086d44]{flex:1;height:%?70?%;padding:0 %?20?%;border:%?1?% solid #666;border-radius:%?35?%;font-size:%?28?%;background-color:#fff}.submit-btn[data-v-79086d44]{margin-left:%?20?%;padding:%?10?% %?50?%;background-color:#ff4757;border-radius:%?35?%}.submit-text[data-v-79086d44]{font-size:%?28?%;color:#fff}.u-flex[data-v-79086d44]{display:flex;align-items:center}.width-70[data-v-79086d44]{width:%?70?%;height:auto}',""]),t.exports=e},"917a":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"video-detail-page"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"back-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"back-icon",attrs:{src:"/static/home/ic_common_back.png",mode:"aspectFit"}})],1),a("v-uni-text",{staticClass:"header-title"},[t._v("视频详情")]),a("v-uni-view",{staticClass:"placeholder"})],1),a("v-uni-view",{staticClass:"video-player"},[t.videoDetail.vod_play_url?a("v-uni-video",{staticClass:"player",attrs:{src:t.videoDetail.vod_play_url,controls:!0,poster:t.getImageUrl(t.videoDetail.vod_pic)},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.onVideoError.apply(void 0,arguments)},play:function(e){arguments[0]=e=t.$handleEvent(e),t.onVideoPlay.apply(void 0,arguments)}}}):a("v-uni-view",{staticClass:"video-placeholder"},[a("v-uni-image",{staticClass:"placeholder-img",attrs:{src:t.getImageUrl(t.videoDetail.vod_pic),mode:"aspectFill"}}),a("v-uni-view",{staticClass:"play-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.playVideo.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"play-text"},[t._v("播放")])],1)],1)],1),a("v-uni-view",{staticClass:"video-info"},[a("v-uni-view",{staticClass:"video-title"},[a("v-uni-text",{staticClass:"title-text"},[t._v(t._s(t.videoDetail.vod_name))])],1),a("v-uni-view",{staticClass:"action-buttons"},[a("v-uni-view",{staticClass:"action-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showCommentModal.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"action-icon",attrs:{src:"/static/home/ic_comment.png",mode:"aspectFit"}}),a("v-uni-text",{staticClass:"action-text"},[t._v(t._s(t.videoDetail.comments||0))])],1),a("v-uni-view",{staticClass:"action-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleFavorite.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"action-icon",attrs:{src:1==t.videoDetail.is_favorite?"/static/home/ic_video_collect_select.png":"/static/home/ic_video_collect_normal.png",mode:"aspectFit"}}),a("v-uni-text",{staticClass:"action-text"},[t._v(t._s(t.videoDetail.favorites||0))])],1),a("v-uni-view",{staticClass:"action-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleLike.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"action-icon",attrs:{src:1==t.videoDetail.is_likenumber?"/static/home/ic_like_select.png":"/static/home/ic_like_normal.png",mode:"aspectFit"}}),a("v-uni-text",{staticClass:"action-text"},[t._v(t._s(t.videoDetail.likenumber||0))])],1),a("v-uni-view",{staticClass:"action-btn"},[a("v-uni-image",{staticClass:"action-icon",attrs:{src:"/static/home/ic_video_look.png",mode:"aspectFit"}}),a("v-uni-text",{staticClass:"action-text font-size-13"},[t._v(t._s(t.videoDetail.vod_score_num||0))])],1)],1)],1),t.relatedVideos.length>0?a("v-uni-view",{staticClass:"related-videos"},[a("v-uni-view",{staticClass:"section-title"},[a("v-uni-text",{staticClass:"title-text"},[t._v("精彩视频")])],1),a("v-uni-scroll-view",{staticClass:"related-scroll",attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"related-list"},t._l(t.relatedVideos,(function(e){return a("v-uni-view",{key:e.id,staticClass:"related-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goToVideo(e)}}},[a("v-uni-view",{staticClass:"related-cover"},[a("v-uni-image",{staticClass:"cover-img",attrs:{src:t.getImageUrl(e.vod_pic),mode:"aspectFill"}}),1===e.vod_hot?a("v-uni-view",{staticClass:"hot-tag"},[a("v-uni-text",{staticClass:"hot-text"},[t._v("热门")])],1):t._e()],1),a("v-uni-view",{staticClass:"related-info"},[a("v-uni-text",{staticClass:"related-title"},[t._v(t._s(e.vod_name))])],1)],1)})),1)],1)],1):t._e(),t.loading?a("v-uni-view",{staticClass:"loading-container"},[a("v-uni-text",{staticClass:"loading-text"},[t._v("加载中...")])],1):t._e(),t.showCommentsPopup?a("v-uni-view",{staticClass:"comment-modal",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideCommentModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"comment-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{staticClass:"comment-header"},[a("v-uni-text",{staticClass:"comment-title"},[t._v("评论 ("+t._s(t.commentList.length)+")")]),a("v-uni-image",{staticClass:"close-btn",attrs:{src:i("1d23"),mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideCommentModal.apply(void 0,arguments)}}})],1),t.commentList.length>0?a("v-uni-scroll-view",{staticClass:"comment-list",attrs:{"scroll-y":"true"}},t._l(t.commentList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"comment-item"},[a("v-uni-view",{staticClass:"comment-user"},[a("v-uni-view",{staticClass:"avatar-container"},[a("v-uni-image",{staticClass:"user-avatar",attrs:{src:e.header_img,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"user-info"},[a("v-uni-view",{staticClass:"u-flex "},[a("v-uni-text",{staticClass:"user-name"},[t._v(t._s(e.member_name))]),e.vip&&e.vip>0?a("v-uni-image",{staticClass:"width-70",attrs:{src:"/static/icon/vip"+e.vip+".jpg",mode:"widthFix"}}):t._e()],1),a("v-uni-view",{staticClass:"comment-time"},[t._v(t._s(e.address)+"\n\t\t\t\t\t\t\t\t"+t._s(t.formatTime(e.create_time)))])],1)],1),a("v-uni-text",{staticClass:"comment-content-text"},[t._v(t._s(e.content))])],1)})),1):a("v-uni-view",{staticClass:"empty-comments"},[a("v-uni-text",{staticClass:"empty-text"},[t._v("暂无评论，快来抢沙发吧~")])],1),a("v-uni-view",{staticClass:"comment-input-area"},[a("v-uni-input",{staticClass:"comment-input",attrs:{placeholder:"请输入评论内容"},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}}),a("v-uni-view",{staticClass:"submit-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitComment.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"submit-text"},[t._v("提交")])],1)],1)],1)],1):t._e()],1)},o=[]},a54c:function(t,e,i){"use strict";i.r(e);var a=i("917a"),o=i("5e2c");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("011d");var s=i("828b"),d=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"79086d44",null,!1,a["a"],void 0);e["default"]=d.exports},bdab:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,n=a(i("39d8"));i("0c26"),i("795c"),i("c9b5"),i("bf0f"),i("ab80"),i("9db6");var s={data:function(){return{loading:!1,videoId:null,videoDetail:{},relatedVideos:[],userInfo:null,showCommentsPopup:!1,commentList:[],newComment:"",commentLoading:!1}},onLoad:function(t){this.videoId=t.id,this.userInfo=getApp().getCache("userInfo"),this.videoId?this.initData():uni.showModal({title:"提示",content:"视频ID不能为空",showCancel:!1,success:function(){uni.navigateBack()}})},onShow:function(){},methods:(o={goBack:function(){uni.navigateBack()},initData:function(){this.getVideoDetail()},getVideoDetail:function(){var t=this;t.loading=!0;var e={id:t.videoId};getApp().getData("api/video/detail",e,(function(e){t.loading=!1,200===e.code?(t.videoDetail=e.data||{},uni.setNavigationBarTitle({title:t.videoDetail.vod_name||"视频详情"}),t.videoDetail.vod_class_id&&t.getRelatedVideos()):uni.showModal({title:"提示",content:e.msg||"获取视频详情失败",showCancel:!1,success:function(){uni.navigateBack()}})}),(function(e){t.loading=!1,uni.showModal({title:"提示",content:"网络错误，请稍后重试",showCancel:!1,success:function(){uni.navigateBack()}}),console.error("获取视频详情网络错误:",e)}))},getRelatedVideos:function(){var t=this,e={vod_class_id:t.videoDetail.vod_class_id,id:t.videoId};getApp().getData("api/video/relation",e,(function(e){200===e.code?t.relatedVideos=e.data||[]:console.error("获取相关视频失败:",e.msg)}),(function(t){console.error("获取相关视频网络错误:",t)}))},playVideo:function(){this.videoDetail.vod_play_url?console.log("播放视频:",this.videoDetail.vod_play_url):uni.showToast({title:"视频地址无效",icon:"none"})},onVideoPlay:function(){console.log("视频开始播放")},onVideoError:function(t){console.error("视频播放错误:",t),uni.showToast({title:"视频播放失败",icon:"none"})},toggleLike:function(){var t=this,e=getApp().getCache("isLogin");if("1"!=e)return uni.showToast({title:"请先登录",icon:"none"}),void setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1e3);var i=getApp().getCache("userInfo"),a=1===t.videoDetail.is_likenumber?2:1;uni.request({url:getApp().globalData.baseUrl+"api/likenumber/operate",method:"POST",header:{token:i.token,"Content-Type":"application/json"},data:{type:2,operate:a,info_id:this.videoId},success:function(e){200==e.data.code?(uni.showToast({title:1===a?"点赞成功":"取消点赞",icon:"success"}),t.videoDetail.is_likenumber=1===a?1:0,t.videoDetail.likenumber+=1===a?1:-1):uni.showToast({title:e.data.msg||"操作失败",icon:"none"})},fail:function(t){console.log("点赞操作请求失败:",t),uni.showToast({title:"网络错误，请重试",icon:"none"})}})},toggleFavorite:function(){var t=this,e=getApp().getCache("isLogin");if("1"!=e)return uni.showToast({title:"请先登录",icon:"none"}),void setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1e3);var i=getApp().getCache("userInfo"),a=1===t.videoDetail.is_favorite?2:1;uni.request({url:getApp().globalData.baseUrl+"api/favorite/operate",method:"POST",header:{token:i.token,"Content-Type":"application/json"},data:{type:2,operate:a,info_id:this.videoId},success:function(e){200==e.data.code?(uni.showToast({title:1===a?"收藏成功":"取消收藏",icon:"success"}),t.videoDetail.is_favorite=1===a?1:0,t.videoDetail.favorites+=1===a?1:-1):uni.showToast({title:e.data.msg||"操作失败",icon:"none"})},fail:function(t){console.log("收藏操作请求失败:",t),uni.showToast({title:"网络错误，请重试",icon:"none"})}})},showCommentModal:function(){this.showCommentsPopup=!0,this.getCommentList()},hideCommentModal:function(){this.showCommentsPopup=!1,this.newComment=""},getCommentList:function(){var t=this,e={type:2,info_id:this.videoId,page:1,limit:50};getApp().getData("api/comments/info",e,(function(e){200==e.code?t.commentList=e.data.data||[]:console.log("获取评论列表失败:",e.msg)}))},submitComment:function(){var t=getApp().getCache("isLogin");if("1"!=t)return uni.showToast({title:"请先登录",icon:"none"}),void setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1e3);if(this.newComment.trim()){if(!this.commentLoading){this.commentLoading=!0;var e=this,i={type:2,operate:1,info_id:this.videoId,content:this.newComment.trim()};getApp().getData("api/comments/operate",i,(function(t){e.commentLoading=!1,200==t.code?(uni.showToast({title:"评论成功",icon:"success"}),e.newComment="",e.getCommentList(),e.videoDetail.comments?e.videoDetail.comments++:e.videoDetail.comments=1):uni.showToast({title:t.msg||"评论失败",icon:"none"})}))}}else uni.showToast({title:"请输入评论内容",icon:"none"})},formatTime:function(t){if(!t)return"";var e=new Date(1e3*t),i=new Date,a=i-e;return a<6e4?"刚刚":a<36e5?Math.floor(a/6e4)+"分钟前":a<864e5?Math.floor(a/36e5)+"小时前":e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")},shareVideo:function(){var t=this;uni.showActionSheet({itemList:["分享到微信","分享到朋友圈","复制链接"],success:function(e){switch(e.tapIndex){case 0:uni.showToast({title:"分享到微信",icon:"none"});break;case 1:uni.showToast({title:"分享到朋友圈",icon:"none"});break;case 2:uni.setClipboardData({data:t.videoDetail.vod_play_url||"",success:function(){uni.showToast({title:"链接已复制",icon:"success"})}});break}}})},goToVideo:function(t){uni.redirectTo({url:"/pages/video-detail/video-detail?id=".concat(t.id)})},formatPlayCount:function(t){return t?t>=1e4?(t/1e4).toFixed(1)+"万":t.toString():"0"}},(0,n.default)(o,"formatTime",(function(t){if(!t)return"";var e=new Date(1e3*t),i=new Date,a=i.getTime()-e.getTime(),o=Math.floor(a/864e5);return 0===o?"今天":1===o?"昨天":o<7?o+"天前":e.getMonth()+1+"月"+e.getDate()+"日"})),(0,n.default)(o,"getImageUrl",(function(t){return t?t.startsWith("/")?"http://103.43.71.18".concat(t):t:"/static/03.png"})),o)};e.default=s}}]);