(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-short-video-list-short-video-list"],{"0e5d":function(t,i,a){"use strict";var e=a("258e"),n=a.n(e);n.a},"258e":function(t,i,a){var e=a("2fbf");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("39b7bfc8",e,!0,{sourceMap:!1,shadowMode:!1})},"2fbf":function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,".video-page[data-v-c91997f8]{background-color:#f5f5f5;min-height:100vh}\n\n/* 头部导航 */.header[data-v-c91997f8]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?30?%;background-color:#fff;border-bottom:%?1?% solid #e0e0e0}.back-btn[data-v-c91997f8]{padding:%?10?%}.back-icon[data-v-c91997f8]{width:%?40?%;height:%?40?%}.header-title[data-v-c91997f8]{font-size:%?32?%;font-weight:700;color:#333}.placeholder[data-v-c91997f8]{width:%?60?%}\n\n/* 列表容器 */.list-container[data-v-c91997f8]{padding:%?20?%}.loading-container[data-v-c91997f8],\n.empty-container[data-v-c91997f8]{display:flex;justify-content:center;align-items:center;height:%?400?%}.loading-text[data-v-c91997f8],\n.empty-text[data-v-c91997f8]{font-size:%?28?%;color:#999}\n\n/* 网格布局样式 */.grid-container[data-v-c91997f8]{display:flex;flex-wrap:wrap;justify-content:space-between}.grid-item[data-v-c91997f8]{width:48%;margin-bottom:%?30?%;background-color:#fff;border-radius:%?15?%;overflow:hidden;box-shadow:0 %?4?% %?12?% rgba(0,0,0,.1);position:relative}.grid-cover[data-v-c91997f8]{width:100%;height:%?200?%}.play-icon[data-v-c91997f8]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:%?60?%;height:%?60?%;background-color:rgba(0,0,0,.6);border-radius:%?30?%;display:flex;align-items:center;justify-content:center}.play-btn[data-v-c91997f8]{width:%?30?%;height:%?30?%}.grid-info[data-v-c91997f8]{padding:0 %?20?% %?20?% %?20?%}.grid-title[data-v-c91997f8]{font-size:%?28?%;font-weight:700;color:#333;margin-bottom:%?10?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.grid-stats[data-v-c91997f8]{display:flex;justify-content:space-between;align-items:center}.stat-item[data-v-c91997f8]{display:flex;align-items:center}.stat-icon[data-v-c91997f8]{width:%?20?%;height:%?20?%;margin-right:%?6?%}.stat-num[data-v-c91997f8]{font-size:%?24?%;color:#666}\n\n/* 加载更多 */.load-more[data-v-c91997f8]{padding:%?30?%;text-align:center;background-color:#fff;border-top:%?1?% solid #f0f0f0}.load-more-text[data-v-c91997f8]{font-size:%?28?%;color:#007aff}",""]),t.exports=i},"467a":function(t,i,a){"use strict";a.r(i);var e=a("c414"),n=a("b134");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("0e5d");var s=a("828b"),c=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"c91997f8",null,!1,e["a"],void 0);i["default"]=c.exports},"865b":function(t,i,a){"use strict";a("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("c223"),a("d4b5");var e={data:function(){return{videoList:[],loading:!1,currentPage:1,hasMore:!0,limit:10}},onLoad:function(){this.loadVideoList()},methods:{goBack:function(){uni.navigateBack()},loadVideoList:function(){var t=this;if(!this.loading){this.loading=!0;var i={page:this.currentPage,limit:this.limit,type:1};getApp().getData("api/video/member/short/square",i,(function(i){if(t.loading=!1,200===i.code){var a=i.data;1===t.currentPage?t.videoList=a.data||[]:t.videoList=t.videoList.concat(a.data||[]),t.hasMore=t.currentPage<a.last_page}else uni.showToast({title:i.msg||"获取视频列表失败",icon:"none"})}))}},loadMore:function(){this.hasMore&&!this.loading&&(this.currentPage++,this.loadVideoList())},goToVideoDetail:function(t){uni.navigateTo({url:"/pages/short-video/short-video?index="+t+"&videoList="+encodeURIComponent(JSON.stringify(this.videoList))})}}};i.default=e},b134:function(t,i,a){"use strict";a.r(i);var e=a("865b"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},c414:function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"video-page"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"back-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goBack.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"back-icon",attrs:{src:"/static/home/ic_common_back.png",mode:"aspectFit"}})],1),a("v-uni-text",{staticClass:"header-title"},[t._v("短视频")]),a("v-uni-view",{staticClass:"placeholder"})],1),a("v-uni-view",{staticClass:"list-container"},[t.loading?a("v-uni-view",{staticClass:"loading-container"},[a("v-uni-text",{staticClass:"loading-text"},[t._v("加载中...")])],1):0===t.videoList.length?a("v-uni-view",{staticClass:"empty-container"},[a("v-uni-text",{staticClass:"empty-text"},[t._v("暂无视频内容")])],1):a("v-uni-view",{staticClass:"grid-container"},t._l(t.videoList,(function(i,e){return a("v-uni-view",{key:i.id,staticClass:"grid-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goToVideoDetail(e)}}},[a("v-uni-image",{staticClass:"grid-cover",attrs:{src:i.cover||i.header_img||"/static/icon/default-avatar.png",mode:"aspectFill"}}),a("v-uni-view",{staticClass:"play-icon"},[a("v-uni-image",{staticClass:"play-btn",attrs:{src:"/static/icon/play.png",mode:"aspectFit"}})],1),a("v-uni-view",{staticClass:"grid-info"},[a("v-uni-text",{staticClass:"grid-title"},[t._v(t._s(i.name||"未知视频"))]),a("v-uni-view",{staticClass:"grid-stats"},[a("v-uni-view",{staticClass:"stat-item"},[a("v-uni-image",{staticClass:"stat-icon",attrs:{src:"/static/home/ic_like_normal.png",mode:"aspectFit"}}),a("v-uni-text",{staticClass:"stat-num"},[t._v(t._s(i.likenumber||"0"))])],1),a("v-uni-view",{staticClass:"stat-item"},[a("v-uni-image",{staticClass:"stat-icon",attrs:{src:"/static/home/ic_video_look.png",mode:"aspectFit"}}),a("v-uni-text",{staticClass:"stat-num"},[t._v(t._s(i.comments||"0"))])],1)],1)],1)],1)})),1)],1),t.hasMore&&!t.loading?a("v-uni-view",{staticClass:"load-more",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.loadMore.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"load-more-text"},[t._v("加载更多")])],1):t._e()],1)},n=[]}}]);