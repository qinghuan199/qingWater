(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-game-withdraw-game-withdraw"],{"22cd":function(t,a,n){"use strict";n.r(a);var e=n("cc69"),i=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(o);a["default"]=i.a},3248:function(t,a,n){var e=n("ccc8");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=n("967d").default;i("8ec96f74",e,!0,{sourceMap:!1,shadowMode:!1})},a095:function(t,a,n){"use strict";var e=n("3248"),i=n.n(e);i.a},acd5:function(t,a,n){"use strict";n.d(a,"b",(function(){return e})),n.d(a,"c",(function(){return i})),n.d(a,"a",(function(){}));var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-uni-view",{staticClass:"game-recharge-page"},[n("v-uni-view",{staticClass:"header"},[n("v-uni-view",{staticClass:"back-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goBack.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"back-icon"},[t._v("‹")])],1),n("v-uni-text",{staticClass:"header-title"},[t._v("游戏提现")]),n("v-uni-view",{staticClass:"placeholder"})],1),n("v-uni-view",{staticClass:"recharge-form"},[n("v-uni-view",{staticClass:"amount-input-section"},[n("v-uni-text",{staticClass:"input-label"},[t._v("提现金额")]),n("v-uni-view",{staticClass:"input-container"},[n("v-uni-text",{staticClass:"currency-symbol"},[t._v("¥")]),n("v-uni-input",{staticClass:"amount-input",attrs:{type:"digit",placeholder:"请输入提现金额"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.onAmountInput.apply(void 0,arguments)}},model:{value:t.withdrawAmount,callback:function(a){t.withdrawAmount=a},expression:"withdrawAmount"}})],1),n("v-uni-view",{staticClass:"u-flex u-flex-between"},[n("v-uni-view",{staticClass:"balance-info"},[n("v-uni-text",{staticClass:"balance-label"},[t._v("游戏余额：")]),n("v-uni-text",{staticClass:"balance-amount"},[t._v(t._s(t.gameBalance||"0.00"))])],1),n("v-uni-view",{staticClass:"max-amount-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setMaxAmount.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"max-text"},[t._v("最大金额")])],1)],1)],1),n("v-uni-view",{staticClass:"quick-amounts"},[n("v-uni-text",{staticClass:"quick-label"},[t._v("快捷金额")]),n("v-uni-view",{staticClass:"quick-buttons"},t._l(t.quickAmounts,(function(a){return n("v-uni-view",{key:a,staticClass:"quick-btn",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.selectQuickAmount(a)}}},[n("v-uni-text",{staticClass:"quick-btn-text"},[t._v(t._s(a))])],1)})),1)],1)],1),n("v-uni-view",{staticClass:"transfer-btn-container"},[n("v-uni-button",{staticClass:"transfer-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.handleWithdraw.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"transfer-btn-text"},[t._v("提现")])],1)],1),n("v-uni-view",{staticClass:"transfer-tips"},[n("v-uni-view",{},[t._v("提示")]),n("v-uni-view",{},[t._v("1、本次提现为游戏余额转入账户余额。")])],1)],1)},i=[]},bc83:function(t,a,n){"use strict";n.r(a);var e=n("acd5"),i=n("22cd");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return i[t]}))}(o);n("a095");var c=n("828b"),s=Object(c["a"])(i["default"],e["b"],e["c"],!1,null,"4f2c6f4f",null,!1,e["a"],void 0);a["default"]=s.exports},cc69:function(t,a,n){"use strict";n("6a54"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n("4626"),n("5ac7"),n("e838"),n("c9b5"),n("bf0f"),n("ab80"),n("c223");var e={data:function(){return{gameId:"",gameName:"",gameImg:"",userInfo:{},gameBalance:"0.00",withdrawAmount:"",quickAmounts:[10,50,100,200,500,1e3]}},computed:{},onLoad:function(t){this.gameId=t.gameId||"",this.gameName=decodeURIComponent(t.gameName||""),this.gameImg=decodeURIComponent(t.gameImg||""),this.userInfo=getApp().getCache("userInfo")||{},this.getGameBalance()},onShow:function(){var t=getApp().getCache("isLogin");if(getApp().isEmpty(t))return uni.showToast({title:"请先登录",icon:"none"}),void setTimeout((function(){uni.navigateTo({url:"/pages/login/login"})}),1e3)},methods:{goBack:function(){uni.navigateBack()},getGameBalance:function(){var t=this,a={token:t.userInfo.token,id:t.gameId};getApp().getData("api/game/balance",a,(function(a){200===a.code&&(t.gameBalance=a.data.balance||"0.00")}),(function(t){console.error("获取游戏余额失败:",t)}))},onAmountInput:function(t){var a=t.detail.value;if(a.includes(".")){var n=a.split(".");n[1]&&n[1].length>2&&(a=n[0]+"."+n[1].substring(0,2),this.withdrawAmount=a)}},setMaxAmount:function(){var t=parseFloat(this.gameBalance||0);this.withdrawAmount=t.toFixed(2)},selectQuickAmount:function(t){this.withdrawAmount=t.toString()},handleWithdraw:function(){parseFloat(this.withdrawAmount),parseFloat(this.gameBalance||0);this.createOrder()},createOrder:function(){var t=this,a={token:t.userInfo.token,type:"game_withdrawal",info_id:t.gameId,amount:t.withdrawAmount};getApp().getData("api/order/create",a,(function(a){200===a.code?t.processPayment(a.data):uni.showModal({title:"提示",content:a.msg||"创建订单失败",showCancel:!1})}),(function(t){uni.showModal({title:"提示",content:"网络错误，请稍后重试",showCancel:!1}),console.error("创建订单网络错误:",t)}))},processPayment:function(t){var a=this,n={token:a.userInfo.token,id:t,paytype:0,type:"game_withdrawal"};getApp().getData("api/order/pay",n,(function(t){200===t.code?(uni.showModal({title:"提现成功",content:"已成功从".concat(a.gameName,"提现¥").concat(a.withdrawAmount),showCancel:!1,success:function(){uni.navigateBack()}}),a.getGameBalance()):uni.showModal({title:"提现失败",content:t.msg||"提现失败，请稍后重试",showCancel:!1})}),(function(t){uni.showModal({title:"提现失败",content:"网络错误，请稍后重试",showCancel:!1}),console.error("支付网络错误:",t)}))}}};a.default=e},ccc8:function(t,a,n){var e=n("c86c");a=e(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-4f2c6f4f]{background-color:#f8f9fa}body.?%PAGE?%[data-v-4f2c6f4f]{background-color:#f8f9fa}.game-recharge-page[data-v-4f2c6f4f]{height:100vh;display:flex;flex-direction:column}\n/* 头部样式 */.header[data-v-4f2c6f4f]{display:flex;align-items:center;justify-content:space-between;padding:%?20?% %?30?%;background-color:#fff;border-bottom:%?1?% solid #f0f0f0;position:-webkit-sticky;position:sticky;top:0;z-index:100}.back-btn[data-v-4f2c6f4f]{width:%?40?%;height:%?40?%;display:flex;align-items:center;justify-content:center}.back-icon[data-v-4f2c6f4f]{font-size:%?40?%;color:#333;font-weight:700}.header-title[data-v-4f2c6f4f]{font-size:%?36?%;font-weight:600;color:#333}.placeholder[data-v-4f2c6f4f]{width:%?40?%;height:%?40?%}\n/* 游戏信息 */.game-info[data-v-4f2c6f4f]{display:flex;align-items:center;padding:%?30?%;background-color:#fff;margin:%?20?%;border-radius:%?12?%;box-shadow:0 %?2?% %?8?% rgba(0,0,0,.05)}.game-icon[data-v-4f2c6f4f]{width:%?80?%;height:%?80?%;border-radius:%?10?%;margin-right:%?20?%}.game-name[data-v-4f2c6f4f]{font-size:%?32?%;font-weight:600;color:#333}\n/* 充值表单 */.recharge-form[data-v-4f2c6f4f]{background-color:#fff;margin:0 %?20?%;border-radius:%?12?%;padding:%?40?% %?30?%;box-shadow:0 %?2?% %?8?% rgba(0,0,0,.05)}\n/* 游戏余额 */.balance-info[data-v-4f2c6f4f]{display:flex;align-items:center;padding:%?30?%;border-radius:%?12?%;height:%?40?%;line-height:%?40?%;font-size:%?24?%;margin-bottom:%?40?%;color:#999}\n/* 转账金额输入 */.amount-input-section[data-v-4f2c6f4f]{margin-bottom:%?40?%}.input-label[data-v-4f2c6f4f]{font-size:%?28?%;color:#333;font-weight:700;margin-bottom:%?20?%;display:block}.input-container[data-v-4f2c6f4f]{position:relative;display:flex;align-items:center;gap:%?15?%}.amount-input[data-v-4f2c6f4f]{flex:1;height:%?80?%;padding:0 %?20?%;border:%?2?% solid #e9ecef;border-radius:%?8?%;font-size:%?28?%;background-color:#fff}.currency-symbol[data-v-4f2c6f4f]{font-size:%?28?%;color:#666;font-weight:700}.max-amount-btn[data-v-4f2c6f4f]{padding:%?15?% %?25?%;border-radius:%?6?%;color:#fd2450;transition:all .3s}.max-amount-btn[data-v-4f2c6f4f]:active{-webkit-transform:scale(.95);transform:scale(.95)}.max-text[data-v-4f2c6f4f]{font-size:%?24?%;font-weight:500}\n/* 快捷金额 */.quick-amounts[data-v-4f2c6f4f]{margin-bottom:%?40?%}.quick-label[data-v-4f2c6f4f]{font-size:%?28?%;color:#333;font-weight:700;margin-bottom:%?20?%;display:block}.quick-buttons[data-v-4f2c6f4f]{display:flex;flex-wrap:wrap;gap:%?15?%}.quick-btn[data-v-4f2c6f4f]{padding:%?20?% %?30?%;border:%?2?% solid #e9ecef;border-radius:%?8?%;background-color:#fff;transition:all .3s}.quick-btn[data-v-4f2c6f4f]:active{border-color:#007bff;background-color:#f0f8ff;-webkit-transform:scale(.95);transform:scale(.95)}.quick-btn-text[data-v-4f2c6f4f]{font-size:%?26?%;color:#333;font-weight:500}\n/* 转账按钮 */.transfer-btn-container[data-v-4f2c6f4f]{padding:%?30?% %?20?%}.transfer-btn[data-v-4f2c6f4f]{width:100%;height:%?88?%;background-color:#fc1b5e;border-radius:%?15?%;border:none;display:flex;align-items:center;justify-content:center;transition:all .3s}.transfer-btn[data-v-4f2c6f4f]:disabled{background-color:#fc1b5e;opacity:.5}.transfer-btn[data-v-4f2c6f4f]:not(:disabled):active{background-color:#fc1b5e;-webkit-transform:scale(.98);transform:scale(.98)}.transfer-btn-text[data-v-4f2c6f4f]{font-size:%?32?%;color:#fff;font-weight:600}.transfer-tips[data-v-4f2c6f4f]{color:#fd313d;padding:%?30?%;font-weight:700;font-size:%?24?%}',""]),t.exports=a}}]);